ТЗ Для системы поддержки пользователей
Система должна обладать следующим функционалом:
1 Работа нескольких линий поддержки (1, 2, 3) с учетом затрат по времени по каждой из линий и разделением специалистов поддержки по этим линиям
2. Возможность отправлять сообщения о случаях требующих поддержки или боту в телеграм или с компьютера через браузер
3. Отдельное поле для вставки ссылки на объект 1с.
4 Возможность прикреплять фото (телеграм) или скриншоты (компьютер)
5. Параллельное и адресное перенаправление по выбору. Например 1 линия не справляется, отправляет либо на 2 линию по принципу кто первый возьмет, либо конкретному специалисту поддержки
6. Статусы процесса
7. Отчеты по времени по сотрудникам и по линиям поддержки
8. Возможность чата с пользователем
9. Авторизация специалистов поддержки в системе по логину и паролю, а пользователей по телеграм ИД или учетной записи домена для сбора статистики, возможность чтобы у пользователя было одновременно и доменное имя и ИД телеграм
10. Категория проблемы по мнению пользователя и по мнению специалиста поддержки
11. Вики система в веб версии для создания свода инструкций
12. Сохранение переписки пользователей с поддержкой
13. Статистические отчеты по работе системы (категории проблем, пользователи, специалисты поддержки, время решения и т д)
_______________________________________________________________________________________________________________________________________________________
Доработки
1. Разграничить линии поддержки. (Высокий приоритет) - готово
    1.1 Механизм: Пользователь авторизуется под учеткой с ролью USER. Если у него все тикеты решены то он видит пустой экран. Создает заявку, она у него появляется, и появляется у сисадминов (только у сисадминов, остальные ее не видят). Если сисадмины не могут ее решить то они переадресуют ее на линию программистов 1с.

2. PUSH уведомления и в браузере и на рабочий стол (Средний приоритет) - пока не трогаем
    2.1 Механизм: Когда пользователю приходит новое уведомление, если он не в чате, то должны приходить тосты (при условии что пользователь в приложении) с текстом уведомлений например при обновлении статуса тикета или при новом сообщении. Если же пользователь например свернул браузер, то уведомление должно приходить на рабочий стол.

3. Ролевая модель (Высокий приоритет)  - сделано (P.S. Я добавил новую роль ADMIN)
    3.1 (USER->SYSADMIN->1C_DEV->DEVELOPER) DEVELOPER = ADMIN а также DEVELOPER это "боевая единица" третьей линии поддержки, все эндпоинты которые доступны только администратору доступны DEVELOPER

4. Прикрепление вложений (высокий приоритет)  - сделано
    4.1 Возможность прикреплять вложения в чате (любые типы файлов, кроме тех которые могут быть опасны для системы. Размер до 10мб)

5. Переадресация заявок на конкретное лицо (высокий приоритет)  - Сделано
    5.1 Пользователь создает тикет и выбирает линию поддержки (сначала доступны только сисадмины). Он выбрал линию и может опционально выбрать конкретного человека на этой линии поддержки (дропдаун с членами линии поддержки). Тогда этот тикет видит только выбранный сисадмин, другим этот тикет недоступен. Если сисадмин не справляется с задачей, то он может переадресовать заявку на вторую линию поддержки с комментарием от себя (опционально). и такая схема до третьей линии поддержки.

6. Добавить возможность указания категрии по мнению линии поддержки (низкий приоритет)
   6.1 Пользователь при создании тикета выбирает жестко заданную категорию он отправляет этот тикет, сисадмины его решают и могут указать категорию по их мнению
   такие категории не имеют жестких ограничений и используются для отчетов

7. Запретить переадресацию тикета на другую линию поддержки если тикет уже на третьей линии поддержки (Высокий приоритет) - я это сделал. Твоя задача проверить логику и оптимизировать метод

8. На фронте добавить кнопку отклонения принятия переадресации тикета с указанием комментария (Высокий приоритет)

10. (Frontend/Backend) Создаю тикет от роли пользователя - авторизуюсь под ролью сисадмина - тикетов нет. Если я все правильно понял то проблема в том что при создании тикета не происходит автоматическое назначение его на первую линию. (Высокий приоритет)

11. (Frontend) На фронте убрать кнопку создать тикет для специалистов (Средний приоритет)

11. (Backend) Предупреждение в логах спринг бут 2025-12-11T11:57:41.039+03:00  WARN 17760 --- [servicedesk] [io-8080-exec-10] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables. (Высокий приоритет)

12. (Backend) В некоторых местах проекта я оставил TODO c комментариями ознакомься с ними (Высокий приоритет)

13. (Frontend) На фронте в цикле возникает ошибка web-socket.ts:50 WebSocket connection to 'ws://192.168.14.9:3000/_next/webpack-hmr?id=f-zRSwScI6MrUZonACLIF' failed: из за этой ошибки фронт сам перезагржается каждые +- 7 секунд. Надо исправить (Очень высокий приоритет)

14. (Frontend) Централизовать определение базового API маршрута в проекте

15. (Frontend) Рефакторинг компонентов. Разделение на компоненты по ответственности, задача уменьшить размер компонентов, поскольку некотроые из них 400+ строк

_________________________________________________________________________________
